##### WSO-Config WSO 2.0 #####
# Note that this is only for installing the servers,
# not for actually configuring them. For that, use a wso-specific task

- name: Install MariaDB client
  ansible.builtin.dnf:
    name: mariadb
    state: present
  when: inventory_hostname in ['wso_prod', 'wso_dev']

- name: Install MariaDB server
  ansible.builtin.dnf:
    name: mariadb-server
    state: present
  when: inventory_hostname in ['wso_prod', 'wso_dev']

- name: Enable and start MariaDB
  ansible.builtin.systemd:
    name: mariadb
    enabled: true
    state: started
  when: inventory_hostname in ['wso_prod', 'wso_dev']
    
